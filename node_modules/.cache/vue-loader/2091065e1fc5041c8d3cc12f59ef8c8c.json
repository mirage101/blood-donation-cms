{"remainingRequest":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\Donor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\Donor.vue","mtime":1616672589876},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport firebase from \"firebase\";\r\nexport default {\r\n    \r\n    data() {\r\n        return {\r\n           user: null,\r\n           userData:null,\r\n           userId : null,\r\n           firstName:'',\r\n           lastName: '',\r\n        };\r\n    },\r\n    created() {\r\n        var self = this;\r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            self.user = user;\r\n        });\r\n       \r\n       \r\n    \r\n\r\n\r\n        const db = firebase.firestore();\r\n        //get user data\r\n        //console.log(firebase.auth().currentUser.uid)\r\n        db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n            \r\n            querySnapshot.forEach((doc) => {\r\n                console.log(doc.id, ' => ', doc.data())\r\n                this.firstName = doc.data().firstName\r\n                this.lastName = doc.data().lastName               \r\n            })\r\n        })\r\n\r\n        //console.log(this.firstName, this.lastName)\r\n        // const db = firebase.firestore();\r\n        //  db.collection('users').doc(firebase.auth().currentUser.uid).\r\n        //         onSnapshot(function(doc){\r\n\r\n        //             console.log('current data:', doc.data())\r\n\r\n        //               var newData = doc.data()\r\n\r\n        //             this.profileData = newData;\r\n\r\n        //           })\r\n            \r\n    },\r\n    methods: {\r\n        signout() {\r\n            firebase\r\n                .auth()\r\n                .signOut()\r\n                .then(user => {\r\n                    // this.$store.commit(\"setUser\", null);\r\n                    this.$router.push(\"/login\");\r\n                });\r\n        }\r\n    }\r\n};\r\n",{"version":3,"sources":["Donor.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Donor.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <section>\r\n        <div class=\"ui middle aligned center aligned grid\">\r\n            <div class=\"column\">\r\n                <h1>Donor</h1>\r\n                <p v-if=\"user\">Hello {{this.firstName + ' ' + this.lastName}} : {{user.email}}</p>\r\n                <router-view></router-view>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport firebase from \"firebase\";\r\nexport default {\r\n    \r\n    data() {\r\n        return {\r\n           user: null,\r\n           userData:null,\r\n           userId : null,\r\n           firstName:'',\r\n           lastName: '',\r\n        };\r\n    },\r\n    created() {\r\n        var self = this;\r\n        firebase.auth().onAuthStateChanged(function(user) {\r\n            self.user = user;\r\n        });\r\n       \r\n       \r\n    \r\n\r\n\r\n        const db = firebase.firestore();\r\n        //get user data\r\n        //console.log(firebase.auth().currentUser.uid)\r\n        db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n            \r\n            querySnapshot.forEach((doc) => {\r\n                console.log(doc.id, ' => ', doc.data())\r\n                this.firstName = doc.data().firstName\r\n                this.lastName = doc.data().lastName               \r\n            })\r\n        })\r\n\r\n        //console.log(this.firstName, this.lastName)\r\n        // const db = firebase.firestore();\r\n        //  db.collection('users').doc(firebase.auth().currentUser.uid).\r\n        //         onSnapshot(function(doc){\r\n\r\n        //             console.log('current data:', doc.data())\r\n\r\n        //               var newData = doc.data()\r\n\r\n        //             this.profileData = newData;\r\n\r\n        //           })\r\n            \r\n    },\r\n    methods: {\r\n        signout() {\r\n            firebase\r\n                .auth()\r\n                .signOut()\r\n                .then(user => {\r\n                    // this.$store.commit(\"setUser\", null);\r\n                    this.$router.push(\"/login\");\r\n                });\r\n        }\r\n    }\r\n};\r\n</script><br><br><br>"]}]}