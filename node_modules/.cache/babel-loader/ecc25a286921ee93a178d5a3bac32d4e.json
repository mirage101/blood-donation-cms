{"remainingRequest":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\admin\\CreateUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\admin\\CreateUser.vue","mtime":1617129760983},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\Vue\\\\NEW\\\\vue-spas-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"firebase\";\nexport default {\n  data: function data() {\n    return {\n      users: [],\n      crEmail: null,\n      crPassword: null,\n      crRole: 'Doctor',\n      selected: \"Choose Province\"\n    };\n  },\n  methods: {\n    createUser: function () {\n      var _createUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _ref, user;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return firebase.auth().createUserWithEmailAndPassword(this.crEmail, this.crPassword).then(function success(userData) {\n                  console.log(userData.uid);\n                  var addMessage = firebase.functions().httpsCallable(\"setUserRole\");\n                  var data = {\n                    uid: userData.uid,\n                    role: {\n                      driver: true\n                    }\n                  };\n                  console.log(data);\n                  addMessage(data).then(function (result) {\n                    console.log(result);\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                }).catch(function failure(error) {\n                  var errorCode = error.code;\n                  var errorMessage = error.message;\n                  console.log(errorCode + \" \" + errorMessage);\n                });\n\n              case 3:\n                _ref = _context.sent;\n                user = _ref.user;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      function createUser() {\n        return _createUser.apply(this, arguments);\n      }\n\n      return createUser;\n    }(),\n    deleteUser: function deleteUser(uid) {\n      console.log(firebase.functions().removeUser()); // var deleteUserData = firebase.functions()(\"removeUser\");\n      // var data = { uid: uid};\n      // console.log(data)\n      // deleteUserData(data)\n      //     .then(function(result) {\n      //         console.log(result);\n      //     })\n      //     .catch(function(error) {\n      //         console.log(error)\n      //     });\n    }\n  }\n};",{"version":3,"sources":["CreateUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,QAAA,MAAA,UAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,MAAA,EAAA,QAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GATA;AAYA,EAAA,OAAA,EAAA;AAEA,IAAA,UAFA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAOA,QAAA,CACA,IADA,GAEA,8BAFA,CAEA,KAAA,OAFA,EAEA,KAAA,UAFA,EAGA,IAHA,CAGA,SAAA,OAAA,CAAA,QAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,GAAA;AACA,sBAAA,UAAA,GAAA,QAAA,CAAA,SAAA,GAAA,aAAA,CAAA,aAAA,CAAA;AACA,sBAAA,IAAA,GAAA;AAAA,oBAAA,GAAA,EAAA,QAAA,CAAA,GAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,sBAAA,MAAA,EAAA;AAAA;AAAA,mBAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,kBAAA,UAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,mBAFA,EAGA,KAHA,CAGA,UAAA,KAAA,EAAA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,mBALA;AAMA,iBAdA,EAcA,KAdA,CAcA,SAAA,OAAA,CAAA,KAAA,EAAA;AAEA,sBAAA,SAAA,GAAA,KAAA,CAAA,IAAA;AACA,sBAAA,YAAA,GAAA,KAAA,CAAA,OAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,GAAA,GAAA,GAAA,YAAA;AAEA,iBApBA,CAPA;;AAAA;AAAA;AAMA,gBAAA,IANA,QAMA,IANA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA+BA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,OAAA;;AA/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoCA,IAAA,UApCA,sBAoCA,GApCA,EAoCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,SAAA,GAAA,UAAA,EAAA,EADA,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAZA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n         <h3>Create user</h3>\r\n                <form>\r\n                    <div>\r\n                        <label for=\"email\">E-mail: </label>\r\n                        <input type=\"email\" v-model=\"crEmail\"/>\r\n                    </div>\r\n                     <div>\r\n                        <label for=\"password\">Password: </label>\r\n                        <input type=\"password\" v-model=\"crPassword\"/>\r\n                    </div>     \r\n                    <div>\r\n                        <select v-model=\"crRole\">\r\n                                <option value=\"driver\" :selected=\"option == 'Doctor'\">Doctor</option>\r\n                                <option value=\"admin\">Admin</option>                        \r\n                         </select>\r\n                    </div>              \r\n                    <button @click=\"createUser\">Create user</button>\r\n                </form>\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebase from \"firebase\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            users: [],\r\n            crEmail:null,\r\n            crPassword: null,\r\n            crRole:'Doctor',\r\n           selected: \"Choose Province\"\r\n        };\r\n    },\r\n\r\n       \r\n    methods: {\r\n  \r\n        async createUser(){    \r\n              \r\n            try {\r\n            var {\r\n                user\r\n            } = await firebase\r\n                .auth()\r\n                .createUserWithEmailAndPassword(this.crEmail, this.crPassword)\r\n                .then(function success(userData){\r\n                    console.log(userData.uid)\r\n                     var addMessage = firebase.functions().httpsCallable(\"setUserRole\");\r\n                     var data = { uid: userData.uid, role: { driver: true } };\r\n                     console.log(data)\r\n                    addMessage(data).then(function(result) {\r\n                        console.log(result);\r\n                    })\r\n                    .catch(function(error) {\r\n                        console.log(error)\r\n                    });\r\n                }).catch(function failure(error) {\r\n\r\n          var errorCode = error.code;\r\n          var errorMessage = error.message;\r\n          console.log(errorCode + \" \" + errorMessage);\r\n\r\n            });\r\n                \r\n               \r\n            } catch (error) {\r\n            console.log(error.message);\r\n            }\r\n\r\n        },\r\n     \r\n         deleteUser(uid) {\r\n             console.log(firebase.functions().removeUser())\r\n            // var deleteUserData = firebase.functions()(\"removeUser\");\r\n\r\n            // var data = { uid: uid};\r\n            // console.log(data)\r\n            // deleteUserData(data)\r\n            //     .then(function(result) {\r\n            //         console.log(result);\r\n            //     })\r\n            //     .catch(function(error) {\r\n            //         console.log(error)\r\n            //     });\r\n        },\r\n    }\r\n};\r\n</script>"],"sourceRoot":"src/views/admin"}]}