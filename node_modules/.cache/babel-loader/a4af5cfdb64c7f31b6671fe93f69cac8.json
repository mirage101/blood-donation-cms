{"remainingRequest":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\donor\\EditProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\src\\views\\donor\\EditProfile.vue","mtime":1616876717543},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\Vue\\NEW\\vue-spas-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport firebase from \"firebase\";\nexport default {\n  data: function data() {\n    return {\n      user: null,\n      userData: null,\n      firstName: null,\n      lastName: null,\n      city: this.city,\n      bloodType: null,\n      bloodFactor: null,\n      age: null,\n      telephone: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var db = firebase.firestore();\n    db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid).get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        console.log(doc.id, ' => ', doc.data());\n        _this.firstName = doc.data().firstName;\n        _this.lastName = doc.data().lastName, _this.age = doc.data().age, _this.bloodFactor = doc.data().bloodFactor, _this.bloodType = doc.data().bloodType, _this.city = doc.data().city, _this.telephone = doc.data().telephone;\n      });\n    });\n    console.log(this.firstName, this.lastName); // const db = firebase.firestore();\n    //  db.collection('users').doc(firebase.auth().currentUser.uid).\n    //         onSnapshot(function(doc){\n    //             console.log('current data:', doc.data())\n    //               var newData = doc.data()\n    //             this.profileData = newData;\n    //           })\n  },\n  methods: {\n    updateUserInfo: function updateUserInfo() {\n      var _this2 = this;\n\n      var db = firebase.firestore();\n      db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid).get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          doc.ref.update({\n            firstName: _this2.firstName,\n            lastName: _this2.lastName,\n            age: _this2.age,\n            bloodFactor: _this2.bloodFactor,\n            city: _this2.city,\n            telephone: _this2.telephone\n          }).then(function () {\n            console.log('update successfull');\n          });\n        });\n      });\n    },\n    deleteUserInfo: function deleteUserInfo() {\n      console.log('delete');\n      var db = firebase.firestore();\n      var user = firebase.auth().currentUser; //delete user data in firestore\n\n      db.collection('users').where('user_id', '==', user.uid).get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          doc.ref.delete();\n          console.log('data in firestore is deleted');\n        });\n      }); //delete authenticated user\n\n      user.delete().then(function () {\n        console.log('user is deleted');\n        this.$router.push(\"/\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["EditProfile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        Hello {{this.firstName + ' ' + this.lastName }} you can edit your profile bellow:\r\n         <form class=\"ui large form\">\r\n            <div class=\"ui stacked secondary segment\">\r\n              \r\n               <!-- <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"mail icon\"></i>\r\n                     <input type=\"text\" name=\"email\" value=\"{{this.email}}\" v-model=\"email\" />\r\n                  </div>\r\n               </div>\r\n               <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <input type=\"password\" name=\"password\" placeholder=\"Password\" v-model=\"password\" />\r\n                  </div>\r\n               </div> -->\r\n               <!-- <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <input type=\"password\" name=\"password\" placeholder=\"Confirm password\" v-model=\"confirmPassword\" />\r\n                  </div>\r\n               </div> -->\r\n          \r\n               <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <input type=\"text\" name=\"firstName\" placeholder=\"First Name\" v-model=\"firstName\" />\r\n                  </div>\r\n               </div>\r\n                <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <input type=\"text\" name=\"lastName\" placeholder=\"Last Name\" v-model=\"lastName\" />\r\n                  </div>\r\n               </div>\r\n               <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"compass icon\"></i>\r\n                     <input type=\"text\" name=\"city\" placeholder=\"City\" v-model=\"city\" />\r\n                  </div>\r\n               </div>\r\n                <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"phone icon\"></i>\r\n                     <input type=\"tel\" name=\"telephone\" placeholder=\"ex. g. +22 111 22 11\" v-model=\"telephone\" />\r\n                  </div>\r\n               </div>\r\n                <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <input type=\"number\" name=\"age\" placeholder=\"Age\" v-model=\"age\" />\r\n                  </div>\r\n               </div>\r\n                 <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     <select v-model=\"bloodType\">\r\n                        <option value=\"0\" selected>0</option>\r\n                        <option value=\"A\">A</option>\r\n                        <option value=\"B\">B</option>\r\n                        <option value=\"AB\">AB</option>\r\n                     </select>\r\n                  </div>\r\n                 </div>\r\n                  <div class=\"field\">\r\n                  <div class=\"ui left icon input large\">\r\n                     <i class=\"lock icon\"></i>\r\n                     Blood factor\r\n                     <select v-model=\"bloodFactor\">\r\n                        <option value=\"-\" selected>-</option>\r\n                        <option value=\"+\">+</option>                        \r\n                     </select>\r\n                  </div>\r\n               </div>\r\n                \r\n              \r\n               <div class=\"ui fluid large green submit button\" @click=\"updateUserInfo\">Update your data</div>\r\n            </div>\r\n           \r\n            <div class=\"ui error message\"></div>\r\n         </form>\r\n         <div>Delete your profile</div>\r\n         <div class=\"ui fluid large red submit button\" @click=\"deleteUserInfo\">deleteUserInfo</div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebase from \"firebase\";\r\n  \r\nexport default {\r\n    data() {\r\n        return {\r\n            user: null,\r\n            userData:null,\r\n           firstName:null,\r\n            lastName:null,\r\n            city:this.city,\r\n            bloodType:null,\r\n            bloodFactor:null,\r\n            age:null,\r\n            telephone:null,\r\n        };\r\n    },\r\n    created() {\r\n        const db = firebase.firestore();\r\n        db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n            \r\n            querySnapshot.forEach((doc) => {\r\n                console.log(doc.id, ' => ', doc.data())\r\n                this.firstName = doc.data().firstName\r\n                this.lastName = doc.data().lastName,\r\n                this.age = doc.data().age,\r\n                this.bloodFactor = doc.data().bloodFactor,\r\n                this.bloodType = doc.data().bloodType,\r\n                this.city = doc.data().city,\r\n                this.telephone = doc.data().telephone              \r\n            })\r\n        })\r\n\r\n        console.log(this.firstName, this.lastName)\r\n        // const db = firebase.firestore();\r\n        //  db.collection('users').doc(firebase.auth().currentUser.uid).\r\n        //         onSnapshot(function(doc){\r\n\r\n        //             console.log('current data:', doc.data())\r\n\r\n        //               var newData = doc.data()\r\n\r\n        //             this.profileData = newData;\r\n\r\n        //           })\r\n            \r\n    },\r\n    methods:{\r\n        updateUserInfo(){\r\n            const db = firebase.firestore();\r\n             db.collection('users').where('user_id', '==', firebase.auth().currentUser.uid).get().then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    doc.ref.update({\r\n                    firstName: this.firstName,\r\n                    lastName: this.lastName,\r\n                    age: this.age,\r\n                    bloodFactor: this.bloodFactor,\r\n                    city: this.city,\r\n                    telephone: this.telephone\r\n                })\r\n                .then(() => {\r\n                    console.log('update successfull')\r\n                });\r\n            })\r\n            })\r\n        },\r\n        deleteUserInfo(){\r\n            console.log('delete')\r\n             const db = firebase.firestore();\r\n            var user = firebase.auth().currentUser;\r\n            //delete user data in firestore\r\n            db.collection('users').where('user_id', '==', user.uid).get().then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              doc.ref.delete();\r\n              console.log('data in firestore is deleted')\r\n            })\r\n          })\r\n             \r\n            //delete authenticated user\r\n            user.delete().then(function() {\r\n                console.log('user is deleted')\r\n                \r\n                 this.$router.push(\"/\");   \r\n            }).catch(function(error) {\r\n                console.log(error)\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src/views/donor"}]}